name: Random Number Workflow

on: [push]

jobs:
  job1:
    runs-on: ubuntu-latest
    outputs:
      random-number: ${{ steps.generate-number.outputs.random-number }}
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Generate a Random Number
        id: generate-number
        run: |
          RANDOM_NUMBER=$(($RANDOM % 100))
          echo "Generated Random Number: $RANDOM_NUMBER"
          echo "::set-output name=random-number::$RANDOM_NUMBER"

  job2:
    needs: job1
    runs-on: ubuntu-latest
    outputs:
      modified-number: ${{ steps.modify-number.outputs.modified-number }}
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Add 11 to the Random Number
        id: modify-number
        run: |
          MODIFIED_NUMBER=$((${{ needs.job1.outputs.random-number }} + 11))
          echo "Modified Number (Random Number + 11): $MODIFIED_NUMBER"
          echo "::set-output name=modified-number::$MODIFIED_NUMBER"

  job3:
    needs: job2
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Add 22 to the Modified Number
        run: |
          FINAL_RESULT=$((${{ needs.job2.outputs.modified-number }} + 22))
          echo "Final Result (Modified Number + 22): $FINAL_RESULT"
